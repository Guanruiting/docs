<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.3.3 Vue æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°åŸç†åˆ†æ | ç½‘æ˜“é«˜çº§å‰ç«¯å¾®ä¸“ä¸šè¯¾å ‚ç¬”è®°</title>
    <meta name="description" content="æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹,æ´»åˆ°è€ï¼Œå­¦åˆ°æ­»ã€‚">
    <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/docs/assets/css/0.styles.2e4612f5.css" as="style"><link rel="preload" href="/docs/assets/js/app.272d4102.js" as="script"><link rel="preload" href="/docs/assets/js/2.95440834.js" as="script"><link rel="preload" href="/docs/assets/js/25.56cf02c9.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.0fc54824.js"><link rel="prefetch" href="/docs/assets/js/100.d467ed7f.js"><link rel="prefetch" href="/docs/assets/js/101.ad8c0abc.js"><link rel="prefetch" href="/docs/assets/js/102.ab51c402.js"><link rel="prefetch" href="/docs/assets/js/103.5fe06f15.js"><link rel="prefetch" href="/docs/assets/js/104.d7633062.js"><link rel="prefetch" href="/docs/assets/js/105.3fe903ee.js"><link rel="prefetch" href="/docs/assets/js/106.2fcba630.js"><link rel="prefetch" href="/docs/assets/js/107.edd971c2.js"><link rel="prefetch" href="/docs/assets/js/108.0493c7c8.js"><link rel="prefetch" href="/docs/assets/js/109.fd8a9d07.js"><link rel="prefetch" href="/docs/assets/js/11.5a44deff.js"><link rel="prefetch" href="/docs/assets/js/110.bec6562b.js"><link rel="prefetch" href="/docs/assets/js/111.168e9f07.js"><link rel="prefetch" href="/docs/assets/js/112.f6813d06.js"><link rel="prefetch" href="/docs/assets/js/113.88f0df80.js"><link rel="prefetch" href="/docs/assets/js/114.250cd48f.js"><link rel="prefetch" href="/docs/assets/js/115.a37e1cd4.js"><link rel="prefetch" href="/docs/assets/js/116.4fafb93e.js"><link rel="prefetch" href="/docs/assets/js/12.1522d452.js"><link rel="prefetch" href="/docs/assets/js/13.4f607d49.js"><link rel="prefetch" href="/docs/assets/js/14.75ef1aba.js"><link rel="prefetch" href="/docs/assets/js/15.d78c74f4.js"><link rel="prefetch" href="/docs/assets/js/16.b270984d.js"><link rel="prefetch" href="/docs/assets/js/17.21b31205.js"><link rel="prefetch" href="/docs/assets/js/18.3800f71e.js"><link rel="prefetch" href="/docs/assets/js/19.787e8457.js"><link rel="prefetch" href="/docs/assets/js/20.4bdd2ab4.js"><link rel="prefetch" href="/docs/assets/js/21.a236867f.js"><link rel="prefetch" href="/docs/assets/js/22.1a81d6f1.js"><link rel="prefetch" href="/docs/assets/js/23.f0bf2700.js"><link rel="prefetch" href="/docs/assets/js/24.06b09870.js"><link rel="prefetch" href="/docs/assets/js/26.f84817cd.js"><link rel="prefetch" href="/docs/assets/js/27.9b4811d5.js"><link rel="prefetch" href="/docs/assets/js/28.335f50a1.js"><link rel="prefetch" href="/docs/assets/js/29.71a061ad.js"><link rel="prefetch" href="/docs/assets/js/3.5a9f8b7c.js"><link rel="prefetch" href="/docs/assets/js/30.ea83b87c.js"><link rel="prefetch" href="/docs/assets/js/31.99731a8f.js"><link rel="prefetch" href="/docs/assets/js/32.c016cbcb.js"><link rel="prefetch" href="/docs/assets/js/33.6bead5ed.js"><link rel="prefetch" href="/docs/assets/js/34.0bd232ee.js"><link rel="prefetch" href="/docs/assets/js/35.bea81fbf.js"><link rel="prefetch" href="/docs/assets/js/36.ca903df3.js"><link rel="prefetch" href="/docs/assets/js/37.b71de5f6.js"><link rel="prefetch" href="/docs/assets/js/38.676f28a6.js"><link rel="prefetch" href="/docs/assets/js/39.bda860a7.js"><link rel="prefetch" href="/docs/assets/js/4.2074a04a.js"><link rel="prefetch" href="/docs/assets/js/40.bb7f544c.js"><link rel="prefetch" href="/docs/assets/js/41.acc2d862.js"><link rel="prefetch" href="/docs/assets/js/42.d33fdf03.js"><link rel="prefetch" href="/docs/assets/js/43.1c4ff810.js"><link rel="prefetch" href="/docs/assets/js/44.a97b447d.js"><link rel="prefetch" href="/docs/assets/js/45.1c7a172e.js"><link rel="prefetch" href="/docs/assets/js/46.8b50db7f.js"><link rel="prefetch" href="/docs/assets/js/47.da0b58ae.js"><link rel="prefetch" href="/docs/assets/js/48.2acda1ca.js"><link rel="prefetch" href="/docs/assets/js/49.01ef5a98.js"><link rel="prefetch" href="/docs/assets/js/5.84887b41.js"><link rel="prefetch" href="/docs/assets/js/50.6514d23a.js"><link rel="prefetch" href="/docs/assets/js/51.a1534559.js"><link rel="prefetch" href="/docs/assets/js/52.c293af0c.js"><link rel="prefetch" href="/docs/assets/js/53.3e0083be.js"><link rel="prefetch" href="/docs/assets/js/54.9e575d30.js"><link rel="prefetch" href="/docs/assets/js/55.c59fbd1a.js"><link rel="prefetch" href="/docs/assets/js/56.f9626804.js"><link rel="prefetch" href="/docs/assets/js/57.ac1ac337.js"><link rel="prefetch" href="/docs/assets/js/58.45c4cdad.js"><link rel="prefetch" href="/docs/assets/js/59.73772208.js"><link rel="prefetch" href="/docs/assets/js/6.d637f9c8.js"><link rel="prefetch" href="/docs/assets/js/60.9fbf8c0b.js"><link rel="prefetch" href="/docs/assets/js/61.a025f642.js"><link rel="prefetch" href="/docs/assets/js/62.7456002f.js"><link rel="prefetch" href="/docs/assets/js/63.d0aff190.js"><link rel="prefetch" href="/docs/assets/js/64.b245deee.js"><link rel="prefetch" href="/docs/assets/js/65.4f9fff4e.js"><link rel="prefetch" href="/docs/assets/js/66.2236a86f.js"><link rel="prefetch" href="/docs/assets/js/67.c2d33d06.js"><link rel="prefetch" href="/docs/assets/js/68.5e539bac.js"><link rel="prefetch" href="/docs/assets/js/69.4f051e4c.js"><link rel="prefetch" href="/docs/assets/js/7.7eb23afc.js"><link rel="prefetch" href="/docs/assets/js/70.e5b88c1a.js"><link rel="prefetch" href="/docs/assets/js/71.333412ce.js"><link rel="prefetch" href="/docs/assets/js/72.dee249c9.js"><link rel="prefetch" href="/docs/assets/js/73.4da029b8.js"><link rel="prefetch" href="/docs/assets/js/74.ddc0a9ea.js"><link rel="prefetch" href="/docs/assets/js/75.8cf5eae1.js"><link rel="prefetch" href="/docs/assets/js/76.ba77d5c8.js"><link rel="prefetch" href="/docs/assets/js/77.80c6d4b2.js"><link rel="prefetch" href="/docs/assets/js/78.9df234e4.js"><link rel="prefetch" href="/docs/assets/js/79.b43588e3.js"><link rel="prefetch" href="/docs/assets/js/8.4bed17d5.js"><link rel="prefetch" href="/docs/assets/js/80.ffd5512e.js"><link rel="prefetch" href="/docs/assets/js/81.ef9fe33d.js"><link rel="prefetch" href="/docs/assets/js/82.eb3d7419.js"><link rel="prefetch" href="/docs/assets/js/83.0d06a278.js"><link rel="prefetch" href="/docs/assets/js/84.92a3d422.js"><link rel="prefetch" href="/docs/assets/js/85.41295fda.js"><link rel="prefetch" href="/docs/assets/js/86.40f79a24.js"><link rel="prefetch" href="/docs/assets/js/87.58d9f903.js"><link rel="prefetch" href="/docs/assets/js/88.18704fb2.js"><link rel="prefetch" href="/docs/assets/js/89.05f0aef8.js"><link rel="prefetch" href="/docs/assets/js/9.59265f23.js"><link rel="prefetch" href="/docs/assets/js/90.9b200c45.js"><link rel="prefetch" href="/docs/assets/js/91.4222db25.js"><link rel="prefetch" href="/docs/assets/js/92.f918a738.js"><link rel="prefetch" href="/docs/assets/js/93.24fd02f0.js"><link rel="prefetch" href="/docs/assets/js/94.db1b55c6.js"><link rel="prefetch" href="/docs/assets/js/95.08b45146.js"><link rel="prefetch" href="/docs/assets/js/96.3dba9c7d.js"><link rel="prefetch" href="/docs/assets/js/97.0f562828.js"><link rel="prefetch" href="/docs/assets/js/98.6ae1925d.js"><link rel="prefetch" href="/docs/assets/js/99.5760072c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.2e4612f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">ç½‘æ˜“é«˜çº§å‰ç«¯å¾®ä¸“ä¸šè¯¾å ‚ç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/docs/config/" class="nav-link">Config</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/docs/config/" class="nav-link">Config</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥è®¾è®¡æ¨¡å¼ jQuery æºç åˆ†æ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€æ ¸å¿ƒåŠŸèƒ½</a></li><li><a href="/docs/2m1y1.html" class="sidebar-link">2.1.1jQueryæ•´ä½“æ¶æ„-æ ¸å¿ƒåŠŸèƒ½å‡½æ•°æ­ç§˜</a></li><li><a href="/docs/" class="sidebar-link">äºŒã€Sizzle</a></li><li><a href="/docs/hz63rc.html" class="sidebar-link">2.2.1 é€‰æ‹©å™¨</a></li><li><a href="/docs/cecvfl.html" class="sidebar-link">ã€è¯¾åæ€è€ƒé¢˜ã€‘2.2.1 é€‰æ‹©å™¨</a></li><li><a href="/docs/" class="sidebar-link">ä¸‰ã€å›è°ƒå¯¹è±¡è®¾è®¡</a></li><li><a href="/docs/ab0wup.html" class="sidebar-link">2.3.1 Callbackså…¥é—¨&amp;åŸç†åˆ†æ</a></li><li><a href="/docs/fgx4x0.html" class="sidebar-link">ã€ç­”ç–‘ç›´æ’­ã€‘2.1.1-2.3.1 ç­”ç–‘è§£æƒ‘</a></li><li><a href="/docs/" class="sidebar-link">å››ã€å¼‚æ­¥å›è°ƒè§£å†³æ–¹æ¡ˆ</a></li><li><a href="/docs/gfci0o.html" class="sidebar-link">2.4.1 å»¶æ—¶å¯¹è±¡-Deferredæ¦‚å¿µ &amp; æºç å‰–æ</a></li><li><a href="/docs/" class="sidebar-link">äº”ã€äº‹ä»¶ç»‘å®š</a></li><li><a href="/docs/ehd879.html" class="sidebar-link">2.5.1 äº‹ä»¶ç»‘å®š-bind/delegate/on</a></li><li><a href="/docs/izbz7p.html" class="sidebar-link">2.5.2 äº‹ä»¶ç»‘å®š-ä½“ç³»ç»“æ„ / å§”æ‰˜è®¾è®¡</a></li><li><a href="/docs/rd6bte.html" class="sidebar-link">2.5.3 äº‹ä»¶ç»‘å®š-è‡ªå®šä¹‰è®¾è®¡ &amp; æ¨¡æ‹Ÿäº‹ä»¶</a></li><li><a href="/docs/vfcbk0.html" class="sidebar-link">ã€ç­”ç–‘ç›´æ’­ã€‘2.4.1-2.5.3ç­”ç–‘ç›´æ’­</a></li><li><a href="/docs/" class="sidebar-link">å…­ã€DOMæ“ä½œ &amp; æ ·å¼æ“ä½œ</a></li><li><a href="/docs/fr9k19.html" class="sidebar-link">2.6.1 DOMæ“ä½œæ–¹æ³•-html,text,css</a></li><li><a href="/docs/kicsgq.html" class="sidebar-link">2.6.2 - 2.6.3 DOMæ“ä½œæ ¸å¿ƒ &amp; CSS / addClassåŸç†åˆ†æ</a></li><li><a href="/docs/" class="sidebar-link">ä¸ƒã€é«˜çº§è¿›é˜¶-åŠ¨ç”»é˜Ÿåˆ—</a></li><li><a href="/docs/emb8v0.html" class="sidebar-link">2.7.1 åŠ¨ç”»é˜Ÿåˆ— / åŠ¨ç”»è®¾è®¡ / åŠ¨ç”»å®ç°</a></li><li><a href="/docs/png5i8.html" class="sidebar-link">ã€ç›´æ’­ç­”ç–‘ã€‘è®¾è®¡æ¨¡å¼ jQueryæºç åˆ†æç« èŠ‚ç­”ç–‘</a></li><li><a href="/docs/zh1hg5.html" class="sidebar-link">ã€Šè®¾è®¡æ¨¡å¼ jQueryæºç åˆ†æ ã€‹ç»ƒä¹ </a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥å‡½æ•°å¼ç¼–ç¨‹ Underscore æºç åˆ†æ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€Underscoreè®¾è®¡ç¯‡</a></li><li><a href="/docs/snk5af.html" class="sidebar-link">3.1.1 å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³æ¦‚è¿°</a></li><li><a href="/docs/torhfg.html" class="sidebar-link">3.1.2 underscoreæ•´ä½“ç»“æ„ &amp; é¢å‘å¯¹è±¡</a></li><li><a href="/docs/fnamuc.html" class="sidebar-link">3.1.3 undefinedçš„å¤„ç† / å‡½æ•°å¼ç¼–ç¨‹(å›è°ƒ)iterateeè®¾è®¡</a></li><li><a href="/docs/kkfbnv.html" class="sidebar-link">3.1.4 restå‚æ•° / underscoreåˆ›å»ºå¯¹è±¡æ–¹å¼</a></li><li><a href="/docs/rugzi6.html" class="sidebar-link">ã€ç­”ç–‘ç›´æ’­ã€‘3.1.1-3.1.4ç­”ç–‘ç›´æ’­</a></li><li><a href="/docs/" class="sidebar-link">äºŒã€Underscoreè¾…åŠ©åŠŸèƒ½ç¯‡</a></li><li><a href="/docs/qbd392.html" class="sidebar-link">3.2.1 Map-reduce çœŸå€¼æ£€æµ‹å‡½æ•°</a></li><li><a href="/docs/qvg4it.html" class="sidebar-link">3.2.2 indexOf lastIndexOfæ¡ä»¶æŸ¥è¯¢-èƒŒåç´¢å¼•æŸ¥è¯¢å™¨å®ç°</a></li><li><a href="/docs/rs64o0.html" class="sidebar-link">3.2.3 ä¹±åºæ•°ç»„ - æ´—ç‰Œç®—æ³•</a></li><li><a href="/docs/" class="sidebar-link">ä¸‰ã€Underscore æ•°ç»„ç¯‡</a></li><li><a href="/docs/fg8ic9.html" class="sidebar-link">3.3.1 underscoreæ•°ç»„å®šä½ &amp; æ‘Šå¹³æ•°ç»„</a></li><li><a href="/docs/uahtcy.html" class="sidebar-link">3.3.2 æ•°ç»„è¿ç®—uniqå»é‡å‡½æ•° åŸç”Ÿå¯¹è±¡æ‰©å±•</a></li><li><a href="/docs/" class="sidebar-link">å››ã€Underscore å‡½æ•°ç¯‡</a></li><li><a href="/docs/nhnrg5.html" class="sidebar-link">3.4.1 åå‡½æ•°(partial) / ç¼“å­˜(memoize)ä½¿ç”¨åœºæ™¯ æºç åˆ†æ</a></li><li><a href="/docs/otm4ut.html" class="sidebar-link">3.4.2 å»¶æ—¶æ‰§è¡Œå‡½æ•°- compose-escapeå­—ç¬¦ä¸²é€ƒé€¸</a></li><li><a href="/docs/ggrlg1.html" class="sidebar-link">3.4.3 throttle ä¸ debounce æ¦‚å¿µè§£ææºç å®ç°</a></li><li><a href="/docs/" class="sidebar-link">äº”ã€Underscore å¯¹è±¡ç¯‡</a></li><li><a href="/docs/wxlu68.html" class="sidebar-link">3.5.1 å±æ€§æ“ä½œ &amp; createAssigner</a></li><li><a href="/docs/byiw6o.html" class="sidebar-link">3.5.2 deepclone æ·±åº¦å…‹éš† &amp; pick</a></li><li><a href="/docs/edf19t.html" class="sidebar-link">3.5.3templateæ¨¡æ¿å¼•æ“è®¾è®¡</a></li><li><a href="/docs/mggvoz.html" class="sidebar-link">ã€ç›´æ’­ç­”ç–‘ã€‘å‡½æ•°å¼ç¼–ç¨‹ Underscoreæºç åˆ†æç« èŠ‚ç­”ç–‘</a></li><li><a href="/docs/mw656g.html" class="sidebar-link">ã€Šå‡½æ•°å¼ç¼–ç¨‹ Underscoreæºç åˆ†æã€‹ç»ƒä¹ </a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥æ¨¡å—åŒ–ç¼–ç¨‹ è‡ªç ”æ¨¡å—åŠ è½½å™¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€æ¨¡å—åŠ è½½å™¨è®¾è®¡æ¦‚è¦</a></li><li><a href="/docs/azqsn2.html" class="sidebar-link">4.1.1 æ¨¡å—ç³»ç»Ÿæ¦‚è¿°-è‡ªå®šä¹‰æ¨¡å—è§„èŒƒ-ä¹¦å†™çº¦å®š</a></li><li><a href="/docs/fz455z.html" class="sidebar-link">4.1.2 åŠ è½½å™¨ç»“æ„è®¾è®¡å¯¼è®º</a></li><li><a href="/docs/" class="sidebar-link">äºŒã€æ¨¡å—åŠ è½½å™¨è®¾è®¡æ ¸å¿ƒ</a></li><li><a href="/docs/oq62cu.html" class="sidebar-link">4.2.1 Moduleæ„é€ å™¨è®¾è®¡ æ¨¡å—æ•°æ®åˆå§‹åŒ–</a></li><li><a href="/docs/el3l0l.html" class="sidebar-link">4.2.2 æ¨¡å—èµ„æºå®šä½-å¼‚æ­¥åŠ è½½</a></li><li><a href="/docs/olxmrr.html" class="sidebar-link">4.2.3 ä¾èµ–è§£æ-ä¾èµ–ç®¡ç†å¤„ç†æ–¹æ¡ˆ</a></li><li><a href="/docs/fvkrun.html" class="sidebar-link">4.2.4 æ¨¡å—(è·¯å¾„)çŸ­åç§°é…ç½®è§£å†³æ–¹æ¡ˆ</a></li><li><a href="/docs/xk1rtn.html" class="sidebar-link">ã€ç›´æ’­ç­”ç–‘ã€‘æ¨¡å—åŒ–ç¼–ç¨‹ è‡ªç ”æ¨¡å—åŠ è½½å™¨ç« èŠ‚ç­”ç–‘</a></li><li><a href="/docs/iwccwo.html" class="sidebar-link">ã€Šæ¨¡å—åŒ–ç¼–ç¨‹ è‡ªç ”æ¨¡å—åŠ è½½å™¨ã€‹ç»ƒä¹ </a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ğŸ”¥Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€VueåŸºç¡€çŸ¥è¯†</a></li><li><a href="/docs/gglnq8.html" class="sidebar-link">1.1.1 Vueæ€æƒ³</a></li><li><a href="/docs/geoolr.html" class="sidebar-link">1.1.2 Vueå†…éƒ¨è¿è¡Œæœºåˆ¶</a></li><li><a href="/docs/uk9ewf.html" class="sidebar-link">1.1.3 Vueäº‹ä»¶ç»‘å®š</a></li><li><a href="/docs/mn5sey.html" class="sidebar-link">1.1.4 Watchå’ŒComputed</a></li><li><a href="/docs/wqx0s9.html" class="sidebar-link">1.1.5 Vueç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="/docs/hldv9h.html" class="sidebar-link">1.1.6 Vueç»„ä»¶åŠé€šè®¯</a></li><li><a href="/docs/lscdmz.html" class="sidebar-link">1.1.7 Vueå†…ç½®åŠ¨ç”»</a></li><li><a href="/docs/zmdfgc.html" class="sidebar-link">1.1.8 æ’æ§½</a></li><li><a href="/docs/otdwkg.html" class="sidebar-link">1.1.9 è‡ªå®šä¹‰æŒ‡ä»¤</a></li><li><a href="/docs/" class="sidebar-link">äºŒã€Vueè¿›é˜¶çŸ¥è¯†</a></li><li><a href="/docs/dfi63n.html" class="sidebar-link">1.2.1 Vue-cliæ­å»ºé¡¹ç›®ä¸é¡¹ç›®ç»“æ„åˆ†æ</a></li><li><a href="/docs/if2q37.html" class="sidebar-link">1.2.2 è·¯ç”±æ­å»ºã€Vue-routerå¸¸ç”¨æ“ä½œ</a></li><li><a href="/docs/zi45gg.html" class="sidebar-link">1.2.3 Vuexçš„ä½¿ç”¨ä¸å¸¸ç”¨æ“ä½œ</a></li><li><a href="/docs/vicpw6.html" class="sidebar-link">1.2.4 Axiosçš„ä½¿ç”¨</a></li><li><a href="/docs/" class="sidebar-link">ä¸‰ã€Vueæºç åˆ†æ</a></li><li><a href="/docs/gc1xva.html" class="sidebar-link">1.3.1 Vueç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡ŒåŸç†åˆ†æ</a></li><li><a href="/docs/ooaise.html" class="sidebar-link">1.3.2 Vueå“åº”å¼ç³»ç»Ÿæ­å»º</a></li><li><a href="/docs/rp5g3f.html" class="active sidebar-link">1.3.3 Vue æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°åŸç†åˆ†æ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#ç¼–è¯‘ä¸‰é˜¶æ®µ" class="sidebar-link">ç¼–è¯‘ä¸‰é˜¶æ®µ</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#createcompilercreator" class="sidebar-link">createCompilerCreator</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#mount" class="sidebar-link">$mount</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#query" class="sidebar-link">query</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#mountcomponent" class="sidebar-link">mountComponent</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#ğŸ”£-compiletofunctions" class="sidebar-link">ğŸ”£ compileToFunctions</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#getouterhtml" class="sidebar-link">getOuterHtml</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#parsehtml" class="sidebar-link">parseHTML</a></li><li class="sidebar-sub-header"><a href="/docs/rp5g3f.html#é™„ï¼šç”Ÿå‘½å‘¨æœŸé’©å­å›¾ç¤º" class="sidebar-link">é™„ï¼šç”Ÿå‘½å‘¨æœŸé’©å­å›¾ç¤º</a></li></ul></li><li><a href="/docs/" class="sidebar-link">å››ã€è¡¥å……ç›´æ’­</a></li><li><a href="/docs/livgw8.html" class="sidebar-link">Vue-cli3 &amp; Axios &amp; Derectives</a></li><li><a href="/docs/bzsia7.html" class="sidebar-link">Keep-aliveã€ç»„ä»¶å°è£…ä¸ç»§æ‰¿(mixins,extend)</a></li><li><a href="/docs/bmhikn.html" class="sidebar-link">æ’ä»¶å°è£…ã€Renderå‡½æ•°</a></li><li><a href="/docs/" class="sidebar-link">äº”ã€æ¡ˆä¾‹ï¼šVueåœ¨ç½‘æ˜“çš„å®è·µ</a></li><li><a href="/docs/co2ux2.html" class="sidebar-link">1.4.1 å‰ç«¯æ¶æ„è®¾è®¡ã€æŒ‰éœ€å¼•å…¥ElementUI</a></li><li><a href="/docs/lvt5ta.html" class="sidebar-link">1.4.2 Vueåœ¨ç½‘æ˜“çš„å®è·µ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€ReactåŸºç¡€</a></li><li><a href="/docs/oymhiu.html" class="sidebar-link">2.1.1 Reactä»‹ç»ä¸Reactä»£ç è§„èŒƒ</a></li><li><a href="/docs/emgcy0.html" class="sidebar-link">2.1.2 è™šæ‹ŸDOMå’ŒJSX</a></li><li><a href="/docs/xf9o15.html" class="sidebar-link">2.1.3 ç”Ÿå‘½å‘¨æœŸä¸æ•°æ®æ“ä½œ</a></li><li><a href="/docs/luvw6o.html" class="sidebar-link">2.1.4 ç»„ä»¶é€šä¿¡</a></li><li><a href="/docs/ypo1ha.html" class="sidebar-link">2.1.5 ReactDOMä¸è¡¨å•</a></li><li><a href="/docs/ssosg9.html" class="sidebar-link">2.1.6 Reactä¸es6</a></li><li><a href="/docs/kpipqe.html" class="sidebar-link">2.1.7 è‡ªå®šä¹‰ç»„ä»¶</a></li><li><a href="/docs/anykbu.html" class="sidebar-link">ReactåŸºç¡€ç­”ç–‘</a></li><li><a href="/docs/" class="sidebar-link">äºŒã€Reactè¿›é˜¶</a></li><li><a href="/docs/nlq5f6.html" class="sidebar-link">2.2.1 é«˜é˜¶ç»„ä»¶</a></li><li><a href="/docs/xr4dqu.html" class="sidebar-link">2.2.2 React Hooks</a></li><li><a href="/docs/fw9x5v.html" class="sidebar-link">2.2.3 React ä¸ Typescript</a></li><li><a href="/docs/wq1fqd.html" class="sidebar-link">2.2.4 æ•°æ®ç®¡ç†(Redux)</a></li><li><a href="/docs/wgu5yd.html" class="sidebar-link">2.2.5 æ•°æ®ç®¡ç†(Mobx)</a></li><li><a href="/docs/yyxmos.html" class="sidebar-link">2.2.6 å¸¸ç”¨ç»„ä»¶åº“ant-design</a></li><li><a href="/docs/" class="sidebar-link">ä¸‰ã€Reactç”Ÿæ€</a></li><li><a href="/docs/pqqmr1.html" class="sidebar-link">2.3.1 è·¯ç”±(React-Router)åŸç†</a></li><li><a href="/docs/iq8vnf.html" class="sidebar-link">2.3.2 ReactåŠ¨ç”»</a></li><li><a href="/docs/gyyy1l.html" class="sidebar-link">2.3.3 å¯è§†åŒ–</a></li><li><a href="/docs/fmxr7d.html" class="sidebar-link">2.3.4 ä¼ä¸šçº§æ¡†æ¶umi + dva</a></li><li><a href="/docs/vey6h8.html" class="sidebar-link">2.3.5 å·¥ç¨‹åŒ–ä¸webpack</a></li><li><a href="/docs/ag3qn2.html" class="sidebar-link">2.3.6 å•å…ƒæµ‹è¯•</a></li><li><a href="/docs/plkw7v.html" class="sidebar-link">æ¡ˆä¾‹ï¼š2.5.1 Reactåœ¨ç½‘æ˜“çš„å®è·µ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥ Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">ä¸€ã€webpack çš„æ¦‚å¿µå’ŒåŸºç¡€ä½¿ç”¨</a></li><li><a href="/docs/dgg364.html" class="sidebar-link">3.1.0 webpackå¯¼å­¦</a></li><li><a href="/docs/ha44ms.html" class="sidebar-link">3.1.1 webpackçš„æ¦‚å¿µä¸å®‰è£…</a></li><li><a href="/docs/dgdkh8.html" class="sidebar-link">3.1.2 å‰ç«¯æ¨¡å—åŒ–</a></li><li><a href="/docs/gly4n5.html" class="sidebar-link">3.1.3 Webpackçš„æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href="/docs/tcfyq7.html" class="sidebar-link">3.1.4 ç”¨webpackå¼€å§‹ä¸€æ¬¡æ‰“åŒ…</a></li><li><a href="/docs/qu1sn5.html" class="sidebar-link">3.1.5 javascriptçš„ç¼–è¯‘</a></li><li><a href="/docs/ig9o4c.html" class="sidebar-link">3.1.6 cssçš„ç¼–è¯‘</a></li><li><a href="/docs/vkboxc.html" class="sidebar-link">3.1.7 htmlæ–‡ä»¶çš„æ‰“åŒ…</a></li><li><a href="/docs/idl16r.html" class="sidebar-link">3.1.8 webpackçš„ç¯å¢ƒ</a></li><li><a href="/docs/ag91wy.html" class="sidebar-link">äºŒã€webpack å®æˆ˜æ¼”ç»ƒ</a></li><li><a href="/docs/pvbye4.html" class="sidebar-link">3.2.1 webpack-dev-serverçš„ä½¿ç”¨</a></li><li><a href="/docs/omo63d.html" class="sidebar-link">3.2.2 webpackåŸç†è§£æ</a></li><li><a href="/docs/vvwp5m.html" class="sidebar-link">3.2.3 å›¾ç‰‡ç­‰èµ„æºçš„å¤„ç†å›æ”¾</a></li><li><a href="/docs/hwxtac.html" class="sidebar-link">3.2.4 ä»£ç åˆ†å‰² &amp; 3.2.5 jsä»£ç å¤§å°æ§åˆ¶</a></li><li><a href="/docs/lg5nu0.html" class="sidebar-link">3.2.6 webpackæ‰“åŒ…é€Ÿåº¦ä¼˜åŒ–</a></li><li><a href="/docs/ex2q8d.html" class="sidebar-link">æ¡ˆä¾‹ï¼š3.3.1 ç½‘æ˜“çš„Webpackå·¥ç¨‹åŒ–å®è·µ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ğŸ”¥VuePressé¡¹ç›®å®æˆ˜</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/la4kpg.html" class="sidebar-link">4.1.0-VuePressè¯¾ç¨‹å¯¼å­¦</a></li><li><a href="/docs/bg6ka7.html" class="sidebar-link">4.1.1 è®¾è®¡-è¿è¡ŒåŸç†</a></li><li><a href="/docs/wnigom.html" class="sidebar-link">4.1.2 åŸºæœ¬é…ç½®</a></li><li><a href="/docs/gtdr35.html" class="sidebar-link">4.1.3 Markdown</a></li><li><a href="/docs/bgmf1l.html" class="sidebar-link">4.1.4 ä¸Šçº¿éƒ¨ç½² æ­å»ºä½ çš„ä¸“å±åšå®¢</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>=== Nodeå¼€å‘å·¥ç¨‹å¸ˆ ===</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/" class="sidebar-link">=== ç½‘æ˜“å•†ä¸šåŒ–é¡¹ç›®åˆ†äº« ===</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-3-3-vue-æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°åŸç†åˆ†æ"><a href="#_1-3-3-vue-æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°åŸç†åˆ†æ" class="header-anchor">#</a> 1.3.3 Vue æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°åŸç†åˆ†æ</h1> <p>&lt;p&gt;&lt;img alt=&quot;image.png&quot; title=&quot;image.png&quot; src=&quot;https://cdn.nlark.com/yuque/0/2019/png/325426/1562242081438-29d790b2-d4bb-40d2-ba74-829bd1464992.png#align=left&amp;display=inline&amp;height=475&amp;name=image.png&amp;originHeight=715&amp;originWidth=1124&amp;size=180215&amp;status=done&amp;width=746&quot; style=&quot;max-width: 600px; width: 746px;&quot;&gt;&lt;/p&gt;</p> <h2 id="ç¼–è¯‘ä¸‰é˜¶æ®µ"><a href="#ç¼–è¯‘ä¸‰é˜¶æ®µ" class="header-anchor">#</a> ç¼–è¯‘ä¸‰é˜¶æ®µ</h2> <p>&lt;p&gt;parse, optimize, generate&lt;/p&gt;&lt;p&gt;æŠŠæ¨¡æ¿ç¼–è¯‘æˆæ¸²æŸ“å‡½æ•°&lt;/p&gt;&lt;p&gt;&lt;img alt=&quot;image.png&quot; title=&quot;image.png&quot; src=&quot;https://cdn.nlark.com/yuque/0/2019/png/325426/1562242207332-e8fc05c0-66c7-4d6f-a29b-e27bd47242c0.png#align=left&amp;display=inline&amp;height=302&amp;name=image.png&amp;originHeight=460&amp;originWidth=1137&amp;size=215343&amp;status=done&amp;width=746&quot; style=&quot;max-width: 600px; width: 746px;&quot;&gt;&lt;/p&gt;&lt;p&gt;initMixin&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="createcompilercreator"><a href="#createcompilercreator" class="header-anchor">#</a> createCompilerCreator</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createCompilerCreator</span> <span class="token punctuation">(</span><span class="token parameter">baseCompile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">createCompiler</span> <span class="token punctuation">(</span><span class="token parameter">baseOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">function</span> <span class="token function">compile</span> <span class="token punctuation">(</span>
         <span class="token parameter">template<span class="token punctuation">,</span>
         options</span>
       <span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> finalOptions <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>baseOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">var</span> errors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token keyword">var</span> tips <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 
         <span class="token keyword">var</span> <span class="token function-variable function">warn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> range<span class="token punctuation">,</span> tip</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token punctuation">(</span>tip <span class="token operator">?</span> tips <span class="token punctuation">:</span> errors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
         <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>outputSourceRange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token comment">// $flow-disable-line</span>
             <span class="token keyword">var</span> leadingSpaceLength <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^\s*/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
 
             <span class="token function-variable function">warn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> range<span class="token punctuation">,</span> tip</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> msg<span class="token punctuation">:</span> msg <span class="token punctuation">}</span><span class="token punctuation">;</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">.</span>start <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   data<span class="token punctuation">.</span>start <span class="token operator">=</span> range<span class="token punctuation">.</span>start <span class="token operator">+</span> leadingSpaceLength<span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
                 <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">.</span>end <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                   data<span class="token punctuation">.</span>end <span class="token operator">=</span> range<span class="token punctuation">.</span>end <span class="token operator">+</span> leadingSpaceLength<span class="token punctuation">;</span>
                 <span class="token punctuation">}</span>
               <span class="token punctuation">}</span>
               <span class="token punctuation">(</span>tip <span class="token operator">?</span> tips <span class="token punctuation">:</span> errors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token comment">// merge custom modules</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             finalOptions<span class="token punctuation">.</span>modules <span class="token operator">=</span>
               <span class="token punctuation">(</span>baseOptions<span class="token punctuation">.</span>modules <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token comment">// merge custom directives</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>directives<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             finalOptions<span class="token punctuation">.</span>directives <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span>
               Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>baseOptions<span class="token punctuation">.</span>directives <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               options<span class="token punctuation">.</span>directives
             <span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token comment">// copy other options</span>
           <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!==</span> <span class="token string">'modules'</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">'directives'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               finalOptions<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
 
         finalOptions<span class="token punctuation">.</span>warn <span class="token operator">=</span> warn<span class="token punctuation">;</span>
 
         <span class="token keyword">var</span> compiled <span class="token operator">=</span> <span class="token function">baseCompile</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">{</span>
           <span class="token function">detectErrors</span><span class="token punctuation">(</span>compiled<span class="token punctuation">.</span>ast<span class="token punctuation">,</span> warn<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         compiled<span class="token punctuation">.</span>errors <span class="token operator">=</span> errors<span class="token punctuation">;</span>
         compiled<span class="token punctuation">.</span>tips <span class="token operator">=</span> tips<span class="token punctuation">;</span>
         <span class="token keyword">return</span> compiled
       <span class="token punctuation">}</span>
 
       <span class="token keyword">return</span> <span class="token punctuation">{</span>
         compile<span class="token punctuation">:</span> compile<span class="token punctuation">,</span>
         compileToFunctions<span class="token punctuation">:</span> <span class="token function">createCompileToFunctionFn</span><span class="token punctuation">(</span>compile<span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> 
</code></pre></div><h2 id="mount"><a href="#mount" class="header-anchor">#</a> $mount</h2> <h3 id="entry-runtime-with-compiler"><a href="#entry-runtime-with-compiler" class="header-anchor">#</a> entry-runtime-with-compiler</h3> <p>&lt;p&gt;elä¸èƒ½æŒ‚è½½åœ¨bodyæˆ–è€…htmlæ ‡ç­¾ä¸Š&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> mount <span class="token operator">=</span> <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$mount<span class="token punctuation">;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
<span class="token parameter">el<span class="token punctuation">,</span>
hydrating</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 el <span class="token operator">=</span> el <span class="token operator">&amp;&amp;</span> <span class="token function">query</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">/* istanbul ignore if */</span>
 
 <span class="token keyword">if</span> <span class="token punctuation">(</span>el <span class="token operator">===</span> document<span class="token punctuation">.</span>body <span class="token operator">||</span> el <span class="token operator">===</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">warn</span><span class="token punctuation">(</span>
     <span class="token string">&quot;Do not mount Vue to  or  - mount to normal elements instead.&quot;</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token keyword">this</span>
 <span class="token punctuation">}</span> 
</code></pre></div><h3 id="runtime"><a href="#runtime" class="header-anchor">#</a> runtime</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// public mount method</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
 <span class="token parameter">el<span class="token operator">?</span><span class="token punctuation">:</span> string <span class="token operator">|</span> Element<span class="token punctuation">,</span>
 hydrating<span class="token operator">?</span><span class="token punctuation">:</span> boolean</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Component <span class="token punctuation">{</span>
 el <span class="token operator">=</span> el <span class="token operator">&amp;&amp;</span> inBrowser <span class="token operator">?</span> <span class="token function">query</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">undefined</span>
 <span class="token keyword">return</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> el<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre></div><p>&lt;p&gt;runtime æ„å»ºæ—¶å®Œæˆ&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>hydrating</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   el <span class="token operator">=</span> el <span class="token operator">&amp;&amp;</span> inBrowser <span class="token operator">?</span> <span class="token function">query</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>el<span class="token punctuation">,</span>hydrating<span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="å®Œæ•´ç‰ˆæœ¬"><a href="#å®Œæ•´ç‰ˆæœ¬" class="header-anchor">#</a> å®Œæ•´ç‰ˆæœ¬</h3> <p>&lt;p&gt;è¿è¡Œæ—¶ + compiler = å®Œæ•´ç‰ˆæœ¬&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$mount</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>hyydrating</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token function">mount</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>el<span class="token punctuation">,</span>hydrating<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="query"><a href="#query" class="header-anchor">#</a> query</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
    * Query an element selector if it's not an element already.
*/</span>
<span class="token keyword">function</span> <span class="token function">query</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> el <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> selected <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>selected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">warn</span><span class="token punctuation">(</span>
       <span class="token string">'Cannot find element: '</span> <span class="token operator">+</span> el
     <span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> selected
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> el
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="mountcomponent"><a href="#mountcomponent" class="header-anchor">#</a> mountComponent</h2> <p>&lt;p&gt;æŒ‚è½½ç»„ä»¶&lt;/p&gt;&lt;p&gt;rander function&lt;/p&gt;&lt;p&gt;vm_update: è°ƒç”¨ vm.$options.render è¿”å›ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ (vnode)&lt;/p&gt;&lt;p&gt;vm_render: æŠŠvm._render()ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ æ¸²æŸ“æˆçœŸæ­£çš„DOM&lt;/p&gt;&lt;p&gt;new Watcher(updateComponent) æ¸²æŸ“å‡½æ•°è§‚å¯Ÿè€… ï¼ˆä¸€ä¸ªç»„ä»¶æ˜¯ä¸€ä¸ªwatchå®ä¾‹ï¼‰ è§¦å‘getçš„æ‹¦æˆªå™¨ é‡æ–°æ¸²æŸ“&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mountComponent</span> <span class="token punctuation">(</span>
     <span class="token parameter">vm<span class="token punctuation">,</span>
     el<span class="token punctuation">,</span>
     hydrating</span>
   <span class="token punctuation">)</span> <span class="token punctuation">{</span>
     vm<span class="token punctuation">.</span>$el <span class="token operator">=</span> el<span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>render<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>render <span class="token operator">=</span> createEmptyVNode<span class="token punctuation">;</span>
       <span class="token punctuation">{</span>
         <span class="token comment">/* istanbul ignore if */</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>template <span class="token operator">&amp;&amp;</span> vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>template<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token operator">||</span>
           vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el <span class="token operator">||</span> el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">warn</span><span class="token punctuation">(</span>
             <span class="token string">'You are using the runtime-only build of Vue where the template '</span> <span class="token operator">+</span>
             <span class="token string">'compiler is not available. Either pre-compile the templates into '</span> <span class="token operator">+</span>
             <span class="token string">'render functions, or use the compiler-included build.'</span><span class="token punctuation">,</span>
             vm
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
           <span class="token function">warn</span><span class="token punctuation">(</span>
             <span class="token string">'Failed to mount component: template or render function not defined.'</span><span class="token punctuation">,</span>
             vm
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'beforeMount'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
     <span class="token keyword">var</span> updateComponent<span class="token punctuation">;</span>
     <span class="token comment">/* istanbul ignore if */</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>performance <span class="token operator">&amp;&amp;</span> mark<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function-variable function">updateComponent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> name <span class="token operator">=</span> vm<span class="token punctuation">.</span>_name<span class="token punctuation">;</span>
         <span class="token keyword">var</span> id <span class="token operator">=</span> vm<span class="token punctuation">.</span>_uid<span class="token punctuation">;</span>
         <span class="token keyword">var</span> startTag <span class="token operator">=</span> <span class="token string">&quot;vue-perf-start:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
         <span class="token keyword">var</span> endTag <span class="token operator">=</span> <span class="token string">&quot;vue-perf-end:&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
 
         <span class="token function">mark</span><span class="token punctuation">(</span>startTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">var</span> vnode <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">_render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">mark</span><span class="token punctuation">(</span>endTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;vue &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; render&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> startTag<span class="token punctuation">,</span> endTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
         <span class="token function">mark</span><span class="token punctuation">(</span>startTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
         vm<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">mark</span><span class="token punctuation">(</span>endTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;vue &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; patch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> startTag<span class="token punctuation">,</span> endTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token function-variable function">updateComponent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         vm<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span><span class="token function">_render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> hydrating<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 
     <span class="token comment">// we set this to vm._watcher inside the watcher's constructor</span>
     <span class="token comment">// since the watcher's initial patch may call $forceUpdate (e.g. inside child</span>
     <span class="token comment">// component's mounted hook), which relies on vm._watcher being already defined</span>
     <span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> updateComponent<span class="token punctuation">,</span> noop<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       <span class="token function-variable function">before</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">before</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>_isMounted <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>vm<span class="token punctuation">.</span>_isDestroyed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'beforeUpdate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token comment">/* isRenderWatcher */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     hydrating <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
 
     <span class="token comment">// manually mounted instance, call mounted on self</span>
     <span class="token comment">// mounted is called for render-created child components in its inserted hook</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$vnode <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       vm<span class="token punctuation">.</span>_isMounted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
       <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">'mounted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> vm
   <span class="token punctuation">}</span> 
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>render 
</code></pre></div><h2 id="ğŸ”£-compiletofunctions"><a href="#ğŸ”£-compiletofunctions" class="header-anchor">#</a> ğŸ”£ compileToFunctions</h2> <p>&lt;p&gt;templateæ¨¡æ¿ =&gt; render function =&gt; AST&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¼€å‘è€…æ‹¥æœ‰å®šåˆ¶ç¼–è¯‘å™¨çš„èƒ½åŠ›&lt;/span&gt;&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">compileToFunctions</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;di&gt;{{ddd}}&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span> 
</code></pre></div><p>&lt;/di&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>template<span class="token punctuation">)</span> <span class="token punctuation">{</span>

 <span class="token keyword">var</span> ref <span class="token operator">=</span> <span class="token function">compileToFunctions</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> <span class="token punctuation">{</span>
   outputSourceRange<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
   shouldDecodeNewlines<span class="token punctuation">:</span> shouldDecodeNewlines<span class="token punctuation">,</span>
   shouldDecodeNewlinesForHref<span class="token punctuation">:</span> shouldDecodeNewlinesForHref<span class="token punctuation">,</span>
   delimiters<span class="token punctuation">:</span> options<span class="token punctuation">.</span>delimiters<span class="token punctuation">,</span><span class="token comment">//æ”¹å˜æ–‡æœ¬æ’å…¥ç¬¦</span>
   comments<span class="token punctuation">:</span> options<span class="token punctuation">.</span>comments<span class="token comment">//</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> render <span class="token operator">=</span> ref<span class="token punctuation">.</span>render<span class="token punctuation">;</span>
 <span class="token keyword">var</span> staticRenderFns <span class="token operator">=</span> ref<span class="token punctuation">.</span>staticRenderFns<span class="token punctuation">;</span>
 options<span class="token punctuation">.</span>render <span class="token operator">=</span> render<span class="token punctuation">;</span>
 options<span class="token punctuation">.</span>staticRenderFns <span class="token operator">=</span> staticRenderFns<span class="token punctuation">;</span>

<span class="token punctuation">}</span> 
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
    * Mix properties into target object.
*/</span>
<span class="token keyword">function</span> <span class="token function">extend</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> _from</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> _from<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   to<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> _from<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> to
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="baseoptions"><a href="#baseoptions" class="header-anchor">#</a> baseOptions</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> baseOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
     expectHTML<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
     modules<span class="token punctuation">:</span> modules$<span class="token number">1</span><span class="token punctuation">,</span>
     directives<span class="token punctuation">:</span> directives$<span class="token number">1</span><span class="token punctuation">,</span>
     isPreTag<span class="token punctuation">:</span> isPreTag<span class="token punctuation">,</span>
     isUnaryTag<span class="token punctuation">:</span> isUnaryTag<span class="token punctuation">,</span>
     mustUseProp<span class="token punctuation">:</span> mustUseProp<span class="token punctuation">,</span>
     canBeLeftOpenTag<span class="token punctuation">:</span> canBeLeftOpenTag<span class="token punctuation">,</span>
     isReservedTag<span class="token punctuation">:</span> isReservedTag<span class="token punctuation">,</span>
     getTagNamespace<span class="token punctuation">:</span> getTagNamespace<span class="token punctuation">,</span>
     staticKeys<span class="token punctuation">:</span> <span class="token function">genStaticKeys</span><span class="token punctuation">(</span>modules$<span class="token number">1</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="createcompiler"><a href="#createcompiler" class="header-anchor">#</a> createCompiler</h3> <p>&lt;p&gt;æ¨¡æ¿ç¼–è¯‘æˆ AST è¯æ³•åˆ†æ å¥æ³•åˆ†æ ä»£ç ç”Ÿæˆ&lt;/p&gt;&lt;p&gt;(token)-&gt;ä»£ç åˆ‡å‰²æ—¶ç”Ÿæˆçš„ä¸€ä¸ªä¸ªå•å…ƒ&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// `createCompilerCreator` allows creating compilers that use alternative</span>
<span class="token comment">// parser/optimizer/codegen, e.g the SSR optimizing compiler.</span>
<span class="token comment">// Here we just export a default compiler using the default parts.</span>
<span class="token keyword">var</span> createCompiler <span class="token operator">=</span> <span class="token function">createCompilerCreator</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">baseCompile</span> <span class="token punctuation">(</span>
                                          <span class="token parameter">template<span class="token punctuation">,</span>
                                           options</span>
                                          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> ast <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>optimize <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">optimize</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">var</span> code <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token punctuation">{</span>
   ast<span class="token punctuation">:</span> ast<span class="token punctuation">,</span>
   render<span class="token punctuation">:</span> code<span class="token punctuation">.</span>render<span class="token punctuation">,</span> <span class="token comment">// æ¸²æŸ“å‡½æ•°æ‰€éœ€è¦çš„å­—ç¬¦ä¸² ç”Ÿæˆæ¸²æŸ“å‡½æ•°</span>
   staticRenderFns<span class="token punctuation">:</span> code<span class="token punctuation">.</span>staticRenderFns
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="createcompilercreator-2"><a href="#createcompilercreator-2" class="header-anchor">#</a> createCompilerCreator</h3> <p>&lt;p&gt;-&gt; ç¼–è¯‘å™¨çš„æ„é€ è€…&lt;/p&gt;&lt;p&gt;createCompiler // æ¨¡æ¿ ç¼–è¯‘æˆ AST&lt;/p&gt;&lt;p&gt;compileÂ &lt;span&gt;// ç¼–è¯‘å™¨çš„æ ¸å¿ƒæ–¹æ³•&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;finalOptions // è®¿é—®ç¼–è¯‘å™¨å†…ç½®çš„é…ç½®é¡¹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;error // é”™è¯¯&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;tips // æç¤ºä¿¡æ¯&lt;/span&gt;&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// æœ€ç»ˆè¿”å›</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>
 compile<span class="token punctuation">:</span> compile<span class="token punctuation">,</span>
 compileToFunctions<span class="token punctuation">:</span> <span class="token function">createCompileToFunctionFn</span><span class="token punctuation">(</span>compile<span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createCompilerCreator</span> <span class="token punctuation">(</span><span class="token parameter">baseCompile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">createCompiler</span> <span class="token punctuation">(</span><span class="token parameter">baseOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">function</span> <span class="token function">compile</span> <span class="token punctuation">(</span>
   <span class="token parameter">template<span class="token punctuation">,</span>
    options</span>
   <span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> finalOptions <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>baseOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> errors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> tips <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

     <span class="token keyword">var</span> <span class="token function-variable function">warn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> range<span class="token punctuation">,</span> tip</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token punctuation">(</span>tip <span class="token operator">?</span> tips <span class="token punctuation">:</span> errors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>

     <span class="token comment">// åˆå¹¶è‡ªå®šä¹‰ç¼–è¯‘å™¨å’Œå†…ç½®ç¼–è¯‘å™¨çš„é…ç½®</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>outputSourceRange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// $flow-disable-line</span>
         <span class="token keyword">var</span> leadingSpaceLength <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^\s*/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

         <span class="token function-variable function">warn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> range<span class="token punctuation">,</span> tip</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> msg<span class="token punctuation">:</span> msg <span class="token punctuation">}</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">.</span>start <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               data<span class="token punctuation">.</span>start <span class="token operator">=</span> range<span class="token punctuation">.</span>start <span class="token operator">+</span> leadingSpaceLength<span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
             <span class="token keyword">if</span> <span class="token punctuation">(</span>range<span class="token punctuation">.</span>end <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               data<span class="token punctuation">.</span>end <span class="token operator">=</span> range<span class="token punctuation">.</span>end <span class="token operator">+</span> leadingSpaceLength<span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
           <span class="token punctuation">}</span>
           <span class="token punctuation">(</span>tip <span class="token operator">?</span> tips <span class="token punctuation">:</span> errors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token comment">// merge custom modules</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>modules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         finalOptions<span class="token punctuation">.</span>modules <span class="token operator">=</span>
           <span class="token punctuation">(</span>baseOptions<span class="token punctuation">.</span>modules <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token comment">// merge custom directives</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>directives<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         finalOptions<span class="token punctuation">.</span>directives <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span>
           Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>baseOptions<span class="token punctuation">.</span>directives <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           options<span class="token punctuation">.</span>directives
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token comment">// copy other options</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!==</span> <span class="token string">'modules'</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">'directives'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           finalOptions<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     finalOptions<span class="token punctuation">.</span>warn <span class="token operator">=</span> warn<span class="token punctuation">;</span>

     <span class="token keyword">var</span> compiled <span class="token operator">=</span> <span class="token function">baseCompile</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalOptions<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ast rander</span>
     <span class="token punctuation">{</span>
       <span class="token function">detectErrors</span><span class="token punctuation">(</span>compiled<span class="token punctuation">.</span>ast<span class="token punctuation">,</span> warn<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     compiled<span class="token punctuation">.</span>errors <span class="token operator">=</span> errors<span class="token punctuation">;</span>
     compiled<span class="token punctuation">.</span>tips <span class="token operator">=</span> tips<span class="token punctuation">;</span>
     <span class="token keyword">return</span> compiled
   <span class="token punctuation">}</span>

   <span class="token keyword">return</span> <span class="token punctuation">{</span>
     compile<span class="token punctuation">:</span> compile<span class="token punctuation">,</span>
     compileToFunctions<span class="token punctuation">:</span> <span class="token function">createCompileToFunctionFn</span><span class="token punctuation">(</span>compile<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="createcompiletofunctionfn"><a href="#createcompiletofunctionfn" class="header-anchor">#</a> createCompileToFunctionFn</h3> <p>&lt;p&gt;new Function('return 1'); // æ¸²æŸ“å‡½æ•°code&lt;/p&gt;&lt;p&gt;å¦‚æœä¸æ”¯æŒ&lt;span&gt;new Functionï¼Œæç¤ºéœ€è¦&lt;/span&gt;æ”¾å®½å†…å®¹å®‰å…¨ç­–ç•¥&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createCompileToFunctionFn</span> <span class="token punctuation">(</span><span class="token parameter">compile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> cache <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">compileToFunctions</span> <span class="token punctuation">(</span>
 <span class="token parameter">template<span class="token punctuation">,</span>
  options<span class="token punctuation">,</span>
  vm</span>
 <span class="token punctuation">)</span> <span class="token punctuation">{</span>
   options <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> warn$$<span class="token number">1</span> <span class="token operator">=</span> options<span class="token punctuation">.</span>warn <span class="token operator">||</span> warn<span class="token punctuation">;</span>
   <span class="token keyword">delete</span> options<span class="token punctuation">.</span>warn<span class="token punctuation">;</span>

   <span class="token comment">/* istanbul ignore if */</span>
   <span class="token punctuation">{</span>
     <span class="token comment">// detect possible CSP restriction</span>
     <span class="token keyword">try</span> <span class="token punctuation">{</span>
       <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">'return 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/unsafe-eval|CSP/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">warn$$1</span><span class="token punctuation">(</span>
           <span class="token string">'It seems you are using the standalone build of Vue.js in an '</span> <span class="token operator">+</span>
           <span class="token string">'environment with Content Security Policy that prohibits unsafe-eval. '</span> <span class="token operator">+</span>
           <span class="token string">'The template compiler cannot work in this environment. Consider '</span> <span class="token operator">+</span>
           <span class="token string">'relaxing the policy to allow unsafe-eval or pre-compiling your '</span> <span class="token operator">+</span>
           <span class="token string">'templates into render functions.'</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// check cache</span>
   <span class="token keyword">var</span> key <span class="token operator">=</span> options<span class="token punctuation">.</span>delimiters
   <span class="token operator">?</span> <span class="token function">String</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>delimiters<span class="token punctuation">)</span> <span class="token operator">+</span> template
   <span class="token punctuation">:</span> template<span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// compile</span>
   <span class="token keyword">var</span> compiled <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// check compilation errors/tips</span>
   <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>compiled<span class="token punctuation">.</span>errors <span class="token operator">&amp;&amp;</span> compiled<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>outputSourceRange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         compiled<span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">warn$$1</span><span class="token punctuation">(</span>
             <span class="token string">&quot;Error compiling template:\n\n&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>msg<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n\n&quot;</span> <span class="token operator">+</span>
             <span class="token function">generateCodeFrame</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> e<span class="token punctuation">.</span>start<span class="token punctuation">,</span> e<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">,</span>
             vm
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token function">warn$$1</span><span class="token punctuation">(</span>
           <span class="token string">&quot;Error compiling template:\n\n&quot;</span> <span class="token operator">+</span> template <span class="token operator">+</span> <span class="token string">&quot;\n\n&quot;</span> <span class="token operator">+</span>
           compiled<span class="token punctuation">.</span>errors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token string">&quot;- &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">,</span>
           vm
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>compiled<span class="token punctuation">.</span>tips <span class="token operator">&amp;&amp;</span> compiled<span class="token punctuation">.</span>tips<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>outputSourceRange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         compiled<span class="token punctuation">.</span>tips<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">tip</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>msg<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         compiled<span class="token punctuation">.</span>tips<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">tip</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> vm<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token comment">// turn code into functions</span>
   <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">var</span> fnGenErrors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–è¯‘çš„é”™è¯¯ä¿¡æ¯</span>
   res<span class="token punctuation">.</span>render <span class="token operator">=</span> <span class="token function">createFunction</span><span class="token punctuation">(</span>compiled<span class="token punctuation">.</span>render<span class="token punctuation">,</span> fnGenErrors<span class="token punctuation">)</span><span class="token punctuation">;</span>
   res<span class="token punctuation">.</span>staticRenderFns <span class="token operator">=</span> compiled<span class="token punctuation">.</span>staticRenderFns<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">code</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token function">createFunction</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> fnGenErrors<span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">// check function generation errors.</span>
   <span class="token comment">// this should only happen if there is a bug in the compiler itself.</span>
   <span class="token comment">// mostly for codegen development use</span>
   <span class="token comment">/* istanbul ignore if */</span>
   <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">!</span>compiled<span class="token punctuation">.</span>errors <span class="token operator">||</span> <span class="token operator">!</span>compiled<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> fnGenErrors<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">warn$$1</span><span class="token punctuation">(</span>
         <span class="token string">&quot;Failed to generate render function:\n\n&quot;</span> <span class="token operator">+</span>
         fnGenErrors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">var</span> err <span class="token operator">=</span> ref<span class="token punctuation">.</span>err<span class="token punctuation">;</span>
           <span class="token keyword">var</span> code <span class="token operator">=</span> ref<span class="token punctuation">.</span>code<span class="token punctuation">;</span>

           <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; in\n\n&quot;</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         vm
       <span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">return</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="createfunction"><a href="#createfunction" class="header-anchor">#</a> createFunction</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createFunction</span> <span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> errors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">try</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token comment">// æ¸²æŸ“å‡½æ•°çš„é•¿ç›¸</span>
 <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   errors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> err<span class="token punctuation">:</span> err<span class="token punctuation">,</span> code<span class="token punctuation">:</span> code <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> noop
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="getouterhtml"><a href="#getouterhtml" class="header-anchor">#</a> getOuterHtml</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
    * Get outerHTML of elements, taking care
    * of SVG elements in IE as well.
*/</span>
<span class="token keyword">function</span> <span class="token function">getOuterHTML</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>outerHTML<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> el<span class="token punctuation">.</span>outerHTML
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token comment">// IE9-11 svg å…¼å®¹æ€§å¤„ç†</span>
   <span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> container<span class="token punctuation">.</span>innerHTML
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="parsehtml"><a href="#parsehtml" class="header-anchor">#</a> parseHTML</h2> <p>&lt;p&gt;å“ªäº›æ˜¯æ¨¡æ¿æ ‡è¯†ç¬¦ï¼Ÿ&lt;/p&gt;</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseHTML</span> <span class="token punctuation">(</span><span class="token parameter">html<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> expectHTML <span class="token operator">=</span> options<span class="token punctuation">.</span>expectHTML<span class="token punctuation">;</span>
 <span class="token keyword">var</span> isUnaryTag$$<span class="token number">1</span> <span class="token operator">=</span> options<span class="token punctuation">.</span>isUnaryTag <span class="token operator">||</span> no<span class="token punctuation">;</span>
 <span class="token keyword">var</span> canBeLeftOpenTag$$<span class="token number">1</span> <span class="token operator">=</span> options<span class="token punctuation">.</span>canBeLeftOpenTag <span class="token operator">||</span> no<span class="token punctuation">;</span>
 <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> last<span class="token punctuation">,</span> lastTag<span class="token punctuation">;</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span>html<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å­—ç¬¦ä¸² åˆ‡å‰²å•å…ƒï¼ˆtokenï¼‰</span>
   last <span class="token operator">=</span> html<span class="token punctuation">;</span>
   <span class="token comment">// Make sure we're not in a plaintext content element like script/style</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastTag <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">isPlainTextElement</span><span class="token punctuation">(</span>lastTag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> textEnd <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'&lt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>textEnd <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// Comment:</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>comment<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> commentEnd <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'--&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token keyword">if</span> <span class="token punctuation">(</span>commentEnd <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>shouldKeepComment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
             options<span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span>html<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> commentEnd<span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> index <span class="token operator">+</span> commentEnd <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
           <span class="token function">advance</span><span class="token punctuation">(</span>commentEnd <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">continue</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>

       <span class="token comment">// http://en.wikipedia.org/wiki/Conditional_comment#Downlevel-revealed_conditional_comment</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>conditionalComment<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> conditionalEnd <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">']&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token keyword">if</span> <span class="token punctuation">(</span>conditionalEnd <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">advance</span><span class="token punctuation">(</span>conditionalEnd <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">continue</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>

       <span class="token comment">// Doctype:</span>
       <span class="token keyword">var</span> doctypeMatch <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>doctype<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>doctypeMatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">advance</span><span class="token punctuation">(</span>doctypeMatch<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">continue</span>
       <span class="token punctuation">}</span>

       <span class="token comment">// End tag:</span>
       <span class="token keyword">var</span> endTagMatch <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>endTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>endTagMatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> curIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>
         <span class="token function">advance</span><span class="token punctuation">(</span>endTagMatch<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">parseEndTag</span><span class="token punctuation">(</span>endTagMatch<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> curIndex<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">continue</span>
       <span class="token punctuation">}</span>

       <span class="token comment">// Start tag:</span>
       <span class="token keyword">var</span> startTagMatch <span class="token operator">=</span> <span class="token function">parseStartTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>startTagMatch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">handleStartTag</span><span class="token punctuation">(</span>startTagMatch<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">shouldIgnoreFirstNewline</span><span class="token punctuation">(</span>startTagMatch<span class="token punctuation">.</span>tagName<span class="token punctuation">,</span> html<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">advance</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">continue</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> next <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>textEnd <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       rest <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>textEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">while</span> <span class="token punctuation">(</span>
         <span class="token operator">!</span>endTag<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
         <span class="token operator">!</span>startTagOpen<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
         <span class="token operator">!</span>comment<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
         <span class="token operator">!</span>conditionalComment<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span>
       <span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// &lt; in plain text, be forgiving and treat it as text</span>
         next <span class="token operator">=</span> rest<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">break</span> <span class="token punctuation">}</span>
         textEnd <span class="token operator">+=</span> next<span class="token punctuation">;</span>
         rest <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>textEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       text <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> textEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>textEnd <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       text <span class="token operator">=</span> html<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">advance</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>chars <span class="token operator">&amp;&amp;</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       options<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> index <span class="token operator">-</span> text<span class="token punctuation">.</span>length<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> endTagLength <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> stackedTag <span class="token operator">=</span> lastTag<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> reStackedTag <span class="token operator">=</span> reCache<span class="token punctuation">[</span>stackedTag<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>reCache<span class="token punctuation">[</span>stackedTag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'([\\s\\S]*?)(&lt;!--'</span> <span class="token operator">+</span> stackedTag <span class="token operator">+</span> <span class="token string">'[^--&gt;]*&gt;)'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> rest$<span class="token number">1</span> <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reStackedTag<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">all<span class="token punctuation">,</span> text<span class="token punctuation">,</span> endTag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       endTagLength <span class="token operator">=</span> endTag<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isPlainTextElement</span><span class="token punctuation">(</span>stackedTag<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stackedTag <span class="token operator">!==</span> <span class="token string">'noscript'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         text <span class="token operator">=</span> text
           <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&lt;!--\--([\s\S]*?)----&gt;/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span> <span class="token comment">// #7298</span>
           <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&lt;!--\[CDATA\[([\s\S]*?)]]--&gt;/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">shouldIgnoreFirstNewline</span><span class="token punctuation">(</span>stackedTag<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         text <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>chars<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         options<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> <span class="token string">''</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     index <span class="token operator">+=</span> html<span class="token punctuation">.</span>length <span class="token operator">-</span> rest$<span class="token number">1.</span>length<span class="token punctuation">;</span>
     html <span class="token operator">=</span> rest$<span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token function">parseEndTag</span><span class="token punctuation">(</span>stackedTag<span class="token punctuation">,</span> index <span class="token operator">-</span> endTagLength<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>html <span class="token operator">===</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     options<span class="token punctuation">.</span>chars <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>warn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       options<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Mal-formatted tag at end of template: \&quot;&quot;</span> <span class="token operator">+</span> html <span class="token operator">+</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> start<span class="token punctuation">:</span> index <span class="token operator">+</span> html<span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">break</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// Clean up any remaining tags</span>
 <span class="token function">parseEndTag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">function</span> <span class="token function">advance</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   index <span class="token operator">+=</span> n<span class="token punctuation">;</span>
   html <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">function</span> <span class="token function">parseStartTag</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> start <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>startTagOpen<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> match <span class="token operator">=</span> <span class="token punctuation">{</span>
       tagName<span class="token punctuation">:</span> start<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       attrs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       start<span class="token punctuation">:</span> index
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token function">advance</span><span class="token punctuation">(</span>start<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> end<span class="token punctuation">,</span> attr<span class="token punctuation">;</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>end <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>startTagClose<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>attr <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>dynamicArgAttribute<span class="token punctuation">)</span> <span class="token operator">||</span> html<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       attr<span class="token punctuation">.</span>start <span class="token operator">=</span> index<span class="token punctuation">;</span>
       <span class="token function">advance</span><span class="token punctuation">(</span>attr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
       attr<span class="token punctuation">.</span>end <span class="token operator">=</span> index<span class="token punctuation">;</span>
       match<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       match<span class="token punctuation">.</span>unarySlash <span class="token operator">=</span> end<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
       <span class="token function">advance</span><span class="token punctuation">(</span>end<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
       match<span class="token punctuation">.</span>end <span class="token operator">=</span> index<span class="token punctuation">;</span>
       <span class="token keyword">return</span> match
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">function</span> <span class="token function">handleStartTag</span> <span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> tagName <span class="token operator">=</span> match<span class="token punctuation">.</span>tagName<span class="token punctuation">;</span>
   <span class="token keyword">var</span> unarySlash <span class="token operator">=</span> match<span class="token punctuation">.</span>unarySlash<span class="token punctuation">;</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>expectHTML<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>lastTag <span class="token operator">===</span> <span class="token string">'p'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isNonPhrasingTag</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">parseEndTag</span><span class="token punctuation">(</span>lastTag<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">canBeLeftOpenTag$$1</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> lastTag <span class="token operator">===</span> tagName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">parseEndTag</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">var</span> unary <span class="token operator">=</span> <span class="token function">isUnaryTag$$1</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token operator">!</span>unarySlash<span class="token punctuation">;</span>

   <span class="token keyword">var</span> l <span class="token operator">=</span> match<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
   <span class="token keyword">var</span> attrs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">var</span> args <span class="token operator">=</span> match<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> value <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">||</span> args<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">||</span> args<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> shouldDecodeNewlines <span class="token operator">=</span> tagName <span class="token operator">===</span> <span class="token string">'a'</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'href'</span>
     <span class="token operator">?</span> options<span class="token punctuation">.</span>shouldDecodeNewlinesForHref
     <span class="token punctuation">:</span> options<span class="token punctuation">.</span>shouldDecodeNewlines<span class="token punctuation">;</span>
     attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
       name<span class="token punctuation">:</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       value<span class="token punctuation">:</span> <span class="token function">decodeAttr</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> shouldDecodeNewlines<span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>outputSourceRange<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start <span class="token operator">=</span> args<span class="token punctuation">.</span>start <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^\s*/</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
       attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>end <span class="token operator">=</span> args<span class="token punctuation">.</span>end<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>unary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> tag<span class="token punctuation">:</span> tagName<span class="token punctuation">,</span> lowerCasedTag<span class="token punctuation">:</span> tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> attrs<span class="token punctuation">:</span> attrs<span class="token punctuation">,</span> start<span class="token punctuation">:</span> match<span class="token punctuation">.</span>start<span class="token punctuation">,</span> end<span class="token punctuation">:</span> match<span class="token punctuation">.</span>end <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     lastTag <span class="token operator">=</span> tagName<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     options<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>tagName<span class="token punctuation">,</span> attrs<span class="token punctuation">,</span> unary<span class="token punctuation">,</span> match<span class="token punctuation">.</span>start<span class="token punctuation">,</span> match<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">function</span> <span class="token function">parseEndTag</span> <span class="token punctuation">(</span><span class="token parameter">tagName<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> pos<span class="token punctuation">,</span> lowerCasedTagName<span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> start <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> end <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>

   <span class="token comment">// Find the closest opened tag of the same type</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>tagName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     lowerCasedTagName <span class="token operator">=</span> tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span>pos <span class="token operator">=</span> stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> pos<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">.</span>lowerCasedTag <span class="token operator">===</span> lowerCasedTagName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">break</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
     <span class="token comment">// If no tag name is provided, clean shop</span>
     pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// Close all the open elements, up the stack</span>
     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> pos<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> pos <span class="token operator">||</span> <span class="token operator">!</span>tagName <span class="token operator">&amp;&amp;</span>
           options<span class="token punctuation">.</span>warn
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
         options<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>
           <span class="token punctuation">(</span><span class="token string">&quot;tag &lt;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&gt; has no matching end tag.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           <span class="token punctuation">{</span> start<span class="token punctuation">:</span> stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span> end<span class="token punctuation">:</span> stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>end <span class="token punctuation">}</span>
         <span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         options<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>tag<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

     <span class="token comment">// Remove the open elements from the stack</span>
     stack<span class="token punctuation">.</span>length <span class="token operator">=</span> pos<span class="token punctuation">;</span>
     lastTag <span class="token operator">=</span> pos <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">[</span>pos <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>tag<span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>lowerCasedTagName <span class="token operator">===</span> <span class="token string">'br'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       options<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>tagName<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>lowerCasedTagName <span class="token operator">===</span> <span class="token string">'p'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       options<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>tagName<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       options<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>tagName<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h2 id="é™„ï¼šç”Ÿå‘½å‘¨æœŸé’©å­å›¾ç¤º"><a href="#é™„ï¼šç”Ÿå‘½å‘¨æœŸé’©å­å›¾ç¤º" class="header-anchor">#</a> é™„ï¼šç”Ÿå‘½å‘¨æœŸé’©å­å›¾ç¤º</h2> <h3 id=""><a href="#" class="header-anchor">#</a></h3></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/docs/ooaise.html" class="prev">1.3.2 Vueå“åº”å¼ç³»ç»Ÿæ­å»º</a></span> <span class="next"><a href="/docs/" class="router-link-active">å››ã€è¡¥å……ç›´æ’­</a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.272d4102.js" defer></script><script src="/docs/assets/js/2.95440834.js" defer></script><script src="/docs/assets/js/25.56cf02c9.js" defer></script>
  </body>
</html>
